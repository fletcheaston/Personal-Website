{% macro product_card(product, product_url) -%}
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex p-3">
        <div class="card border-0 w-100">
            <a href="{{ product_url }}" class="quiet-link">
                <img class="card-img-top" src="{{ product.image }}" alt="Image of {{ product.name }}">
            </a>

            <div class="card-body d-flex flex-column p-0">
                <a href="{{ product_url }}" class="quiet-link">
                    <p class="card-title px-2 pt-2 product-card-title">
                        {{ product.name }}
                    </p>
                </a>

                <div class="accordion" id="accordion-{{ product.id }}">
                    <div class="accordion-item">
                        <h6 class="accordion-header" id="heading-{{ product.id }}">
                            <button class="accordion-button collapsed" type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapse-{{ product.id }}" aria-expanded="false"
                                    aria-controls="collapse-{{ product.id }}">
                                Technical Specs
                            </button>
                        </h6>

                        <div id="collapse-{{ product.id }}" class="accordion-collapse collapse"
                             aria-labelledby="heading-{{ product.id }}"
                             data-bs-parent="#accordion-{{ product.id }}">
                            <div class="accordion-body table-responsive pb-0">

                                {# Technical specs in a table #}
                                <table class="table mb-0">
                                    <tbody>
                                    {% for key, value in product.technical_specs.items() %}
                                        <tr>
                                            <td class="small-td"><b>{{ key }}</b></td>
                                            <td class="small-td">{{ value }}</td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                    {# End accordion item #}

                </div>
                {# End accordion #}

            </div>
            {# End card body #}

        </div>
        {# End card #}

    </div>
{%- endmacro %}